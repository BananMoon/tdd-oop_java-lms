# 학습 관리 시스템(Learning Management System)

## Step1. 레거시 코드 리팩터링
### 구현 내용 정리
- 객체의 상태를 확인/수정하는 getter/setter는 삭제한다. (기존 테스트 코드에서 사용하고 있는 getter는 유지하였습니다.)
- List 타입으로 대부분 전달/사용되는 Answer 객체를 일급 컬렉션으로 생성한다. -> `Answers`
- 객체를 삭제하고 삭제 이력을 생성하는 역할을 각 도메인에서 수행하도록 한다.
- 도메인들의 공통 필드들을 베이스 역할을 하는 추상 클래스로 추출하여 인스턴스 필드를 최소화한다. -> `BaseEntity`

### 질문 삭제하기 요구사항
- 질문글 (`Question`) 삭제
  - [x] 질문 데이터를 삭제한다. (완전 삭제가 아닌, 데이터의 상태 변경) 
  - [x] 로그인한 사용자와 질문자가 다르면 질문글 삭제할 수 없다.
- 답변 (`Answer`) 삭제
  - [x] 질문자와 답변자가 다른 경우 답변을 삭제할 수 없다. (질문자와 답변자가 같은 경우 삭제할 수 있다.)
  - [x] 질문을 삭제할 때 답변 또한 삭제한다. (완전 삭제가 아닌, 데이터의 상태 변경)
- 질문, 답변 삭제 이력 (DeleteHistory)
  - [x] `DeleteHistory` 객체를 활용해 질문, 답변 삭제 이력 정보를 남긴다.

### 리팩터링 요구사항
- QnaService의 `deleteQuestion()` 메서드에 단위 테스트 가능한 핵심 비즈니스 로직을 도메일 모델 객체에 구현한다.
- QnaService의 비지니스 로직을 도메인 모델로 이동하는 리팩터링을 진행할 때 TDD로 구현한다.
- QnaServiceTest 의 모든 테스트는 리팩터링 진행 후에도 통과해야 한다.

---
## 객체지향 생활 체조 원칙을 통한 의식적인 연습
- 규칙1: 한 메서드에 오직 한 단계의 들여쓰기(indent)만 한다. 
- 규칙 2: else 예약어를 쓰지 않는다.
- **규칙 3: 모든 원시값과 문자열을 포장한다.**
- 규칙 4: 한 줄에 점을 하나만 찍는다.
- 규칙 5: 줄여쓰지 않는다(축약 금지).
- 규칙 6: 모든 엔티티를 작게 유지한다.
- **규칙 7: 3개 이상의 인스턴스 변수를 가진 클래스를 쓰지 않는다.**
- **규칙 8: 일급 콜렉션을 쓴다.**
- **규칙 9: 게터/세터/프로퍼티를 쓰지 않는다.**
